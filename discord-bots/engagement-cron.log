ğŸ¤– Starting Engagement Cron Job v2...
â° Current time: 2025-07-19T04:14:33.650Z
ğŸ“… Schedule: Every hour at :00
ğŸ¯ Manual trigger: pm2 trigger engagement-cron-v2 manual-run
ğŸ” IPC Channel Available: false
ğŸ” Process PID: 37401
ğŸ” PM2 Environment: false

â³ Cron job scheduled - will run every hour at :00
ğŸ“ Logs are written to: logs/batch_processor_logs/
âš ï¸  Note: No immediate batch run on startup to preserve API rate limits
â­ï¸  Next batch will run in 45 minutes at 2025-07-19T05:00:00.000Z
ğŸ“Š Current rate limit: 0/120 (0% used)

================================================================================
â° Running scheduled batch processing at 2025-07-19T05:00:00.011Z
================================================================================
â„¹ï¸ [2025-07-19T05:00:00.310Z] ğŸš€ Starting batch processing {
  batchId: 'VLwmr5W0rb7J0rWxZZy2d',
  startTime: '2025-07-19T05:00:00.309Z'
}

============================================================
ğŸ“Š FETCHING CURRENT POINTS CONFIGURATION
============================================================

ğŸ“Œ MICRO Tier Points:
   â€¢ Retweet: 35 points
   â€¢ Reply/Comment: 20 points
   â€¢ Like: 10 points (auto-awarded with RT/Reply)

ğŸ“Œ RISING Tier Points:
   â€¢ Retweet: 35 points
   â€¢ Reply/Comment: 20 points
   â€¢ Like: 10 points (auto-awarded with RT/Reply)

ğŸ“Œ STAR Tier Points:
   â€¢ Retweet: 35 points
   â€¢ Reply/Comment: 20 points
   â€¢ Like: 10 points (auto-awarded with RT/Reply)

ğŸ“Œ LEGEND Tier Points:
   â€¢ Retweet: 35 points
   â€¢ Reply/Comment: 20 points
   â€¢ Like: 10 points (auto-awarded with RT/Reply)

ğŸ“Œ HERO Tier Points:
   â€¢ Retweet: 35 points
   â€¢ Reply/Comment: 20 points
   â€¢ Like: 10 points (auto-awarded with RT/Reply)
â„¹ï¸ [2025-07-19T05:00:01.716Z] ğŸ“Š Points configuration loaded {
  pointsConfig: {
    micro: { retweet: 35, reply: 20, like: 10 },
    rising: { retweet: 35, reply: 20, like: 10 },
    star: { retweet: 35, reply: 20, like: 10 },
    legend: { retweet: 35, reply: 20, like: 10 },
    hero: { retweet: 35, reply: 20, like: 10 }
  }
}

============================================================

ğŸ” TWITTER API RATE LIMIT STATUS
========================================
ğŸ“ˆ Requests Used: 8/120
ğŸ“‰ Requests Remaining: 112
â° Reset Time: 2025-07-19T05:14:33.652Z
âœ… Can Proceed: YES
â„¹ï¸ [2025-07-19T05:00:01.902Z] ğŸ“Š Initial rate limit check {
  current: 8,
  remaining: 112,
  allowed: true,
  resetTime: '2025-07-19T05:14:33.652Z'
}
========================================

â„¹ï¸ [2025-07-19T05:00:02.477Z] ğŸ“Š Found 7 tweets from last 24 hours { batchId: 'VLwmr5W0rb7J0rWxZZy2d', tweetCount: 7, maxAllowed: 60 }

ğŸ“ Processing tweet 1946285151735943479 by @sharafi_eth
   ğŸ” Current API usage: 8/120 (112 remaining)
   ğŸ“Š Fetching retweets...
   âœ… Found 8 retweets (API calls used: 1)
   ğŸ“Š Fetching replies...
   âœ… Found 100 replies (API calls used: 2)
   ğŸ“ˆ Tweet processing complete:
      â€¢ Engagements found: 98
      â€¢ API calls used: 2
      â€¢ API remaining: 110
â„¹ï¸ [2025-07-19T05:00:04.885Z] Processed tweet 1946285151735943479 {
  engagements: 98,
  apiCallsUsed: 2,
  processingTime: '1470ms',
  remainingApiCalls: 110
}

ğŸ“ Processing tweet 1946260344306839970 by @sharafi_eth
   ğŸ” Current API usage: 10/120 (110 remaining)
   ğŸ“Š Fetching retweets...
   âœ… Found 11 retweets (API calls used: 1)
   ğŸ“Š Fetching replies...
   âœ… Found 93 replies (API calls used: 2)
   ğŸ“ˆ Tweet processing complete:
      â€¢ Engagements found: 99
      â€¢ API calls used: 2
      â€¢ API remaining: 108
â„¹ï¸ [2025-07-19T05:00:19.573Z] Processed tweet 1946260344306839970 {
  engagements: 99,
  apiCallsUsed: 2,
  processingTime: '1529ms',
  remainingApiCalls: 108
}

ğŸ“ Processing tweet 1946406441369116808 by @mohamadhere
   ğŸ” Current API usage: 12/120 (108 remaining)
   ğŸ“Š Fetching retweets...
   âœ… Found 0 retweets (API calls used: 1)
   ğŸ“Š Fetching replies...
   âœ… Found 27 replies (API calls used: 2)
   ğŸ“ˆ Tweet processing complete:
      â€¢ Engagements found: 22
      â€¢ API calls used: 2
      â€¢ API remaining: 106
â„¹ï¸ [2025-07-19T05:00:34.529Z] Processed tweet 1946406441369116808 {
  engagements: 22,
  apiCallsUsed: 2,
  processingTime: '1193ms',
  remainingApiCalls: 106
}

ğŸ“ Processing tweet 1946217424803532994 by @soroshlp
   ğŸ” Current API usage: 14/120 (106 remaining)
   ğŸ“Š Fetching retweets...
   âœ… Found 0 retweets (API calls used: 1)
   ğŸ“Š Fetching replies...
   âœ… Found 51 replies (API calls used: 2)
   ğŸ“ˆ Tweet processing complete:
      â€¢ Engagements found: 46
      â€¢ API calls used: 2
      â€¢ API remaining: 104
â„¹ï¸ [2025-07-19T05:00:39.553Z] Processed tweet 1946217424803532994 {
  engagements: 46,
  apiCallsUsed: 2,
  processingTime: '1354ms',
  remainingApiCalls: 104
}

ğŸ“ Processing tweet 1946312643410604125 by @mohamadhere
   ğŸ” Current API usage: 16/120 (104 remaining)
   ğŸ“Š Fetching retweets...
   âœ… Found 1 retweets (API calls used: 1)
   ğŸ“Š Fetching replies...
   âœ… Found 17 replies (API calls used: 2)
   ğŸ“ˆ Tweet processing complete:
      â€¢ Engagements found: 18
      â€¢ API calls used: 2
      â€¢ API remaining: 102
â„¹ï¸ [2025-07-19T05:00:47.021Z] Processed tweet 1946312643410604125 {
  engagements: 18,
  apiCallsUsed: 2,
  processingTime: '1195ms',
  remainingApiCalls: 102
}
ğŸ’° Awarding REPLY/COMMENT points:
   â€¢ User: @amirali2111111 (micro tier)
   â€¢ Base Points: 20
   â€¢ Multiplier: 1x
   â€¢ Total Points: 20
   â€¢ Auto-awarding LIKE points: 10
â„¹ï¸ [2025-07-19T05:00:51.074Z] Points awarded for tweet 1946312643410604125 {
  summary: { likes: 10, retweets: 0, replies: 20, total: 30 },
  userCount: 1
}

ğŸ“ Processing tweet 1946244569110073409 by @d_vattan
   ğŸ” Current API usage: 18/120 (102 remaining)
   ğŸ“Š Fetching retweets...

ğŸ“ Processing tweet 1887537257264853105 by @sharafi_eth
   ğŸ” Current API usage: 18/120 (102 remaining)
   ğŸ“Š Fetching retweets...
âœ… [2025-07-19T05:00:53.378Z] âœ… Batch processing completed {
  batchId: 'VLwmr5W0rb7J0rWxZZy2d',
  duration: '1 minutes',
  summary: {
    tweetsProcessed: 7,
    engagementsFound: 283,
    pointsAwarded: 30,
    apiCallsUsed: 10,
    retweets: 20,
    replies: 263,
    uniqueUsers: 189,
    errors: 2
  }
}
â„¹ï¸ [2025-07-19T05:00:53.563Z] ğŸ“Š Rate limit status { used: 18, remaining: 102, limit: 120, percentUsed: 15 }
âœ… [2025-07-19T05:00:54.796Z] âœ… Batch completed successfully {
  batchId: 'VLwmr5W0rb7J0rWxZZy2d',
  startTime: '2025-07-19T05:00:00.309Z',
  endTime: '2025-07-19T05:00:54.796Z',
  duration: '54.487s',
  summary: {
    tweetsProcessed: 7,
    engagementsFound: 283,
    pointsAwarded: 30,
    apiCallsUsed: 10,
    retweets: 20,
    replies: 263,
    uniqueUsers: 189,
    errors: 2
  }
}

âœ… Batch processing completed successfully
ğŸ“Š Summary: 7 tweets, 283 engagements, 30 points awarded

================================================================================
â° Running scheduled batch processing at 2025-07-19T06:00:00.065Z
================================================================================
â„¹ï¸ [2025-07-19T06:00:00.791Z] ğŸš€ Starting batch processing {
  batchId: 'uJ13fWOhyandYtSjhCae8',
  startTime: '2025-07-19T06:00:00.791Z'
}

============================================================
ğŸ“Š FETCHING CURRENT POINTS CONFIGURATION
============================================================

ğŸ“Œ MICRO Tier Points:
   â€¢ Retweet: 35 points
   â€¢ Reply/Comment: 20 points
   â€¢ Like: 10 points (auto-awarded with RT/Reply)
