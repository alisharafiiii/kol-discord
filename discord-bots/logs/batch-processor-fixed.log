🔄 Starting batch processing...
📋 Configuration:
   - Redis configured: true
   - Twitter API Key: RWBkMfjO...
   - Twitter Access Token: 14588551...
   - Twitter API Version: v2
   - Authentication Type: OAuth 1.0a (User Context)

🔍 DEBUG: Checking for pending batch jobs from API...
   ⚠️  Found pending job: yXuVDnQV4iN_HTX25wu9s
      Created: 6/24/2025, 10:39:51 PM
      Status: pending
      NOTE: This job was created by the API but not processed!
   🔄 Updating pending job to 'running' status...
   ✅ Using existing job yXuVDnQV4iN_HTX25wu9s for processing

🔍 Running DETAILED engagement check (last check: 216.4 hours ago)

🔍 DEBUG: Fetching tweets from Redis...
   Current time: 7/2/2025, 12:38:35 AM (1751431115477)
   Cutoff time: 7/1/2025, 12:38:35 AM (1751344715477)
   Time window: Last 24 hours

📊 Found 0 tweets from last 24 hours to process
   ⚠️ No tweets found in the time window

   🔍 DEBUG: Found 30 total tweets in Redis (showing latest 5):
     - @0xdavid55: 6/24/2025, 9:46:04 PM (score: 1750815964173)
     - @aisarcore: 6/24/2025, 9:43:12 PM (score: 1750815792535)
     - @sharafi_eth: 6/24/2025, 8:06:49 PM (score: 1750810009127)
     - @iamrexorex: 6/23/2025, 2:38:26 PM (score: 1750703906930)
     - @MADMATT3M: 6/23/2025, 9:50:57 AM (score: 1750686657259)

🔄 Starting to process 0 tweets...

📊 Processing Complete:
   - Total tweets found: 0
   - Successfully processed: 0
   - Failed/Skipped: 0

🔄 DEBUG: Updating batch job status...
   Batch ID: yXuVDnQV4iN_HTX25wu9s
   New status: completed
   ✅ Batch job updated successfully
   Verified status: completed

📊 Batch Processing Summary:
   - Batch ID: yXuVDnQV4iN_HTX25wu9s
   - Mode: DETAILED (metrics + engagement)
   - Tweets processed: 0
   - Metrics updated: 0
   - Total engagements awarded: 0
   - Status: Completed successfully
   - Job stored at: engagement:batch:yXuVDnQV4iN_HTX25wu9s

🔑 API Usage Note:
   - Detailed checks run hourly to minimize API calls
   - Twitter /liking_users endpoint removed (no longer available)
   - Like points are now awarded with comments/retweets
   - Force detailed check with: node discord-bots/engagement-batch-processor.js --force-detailed

✅ Batch processing completed!
